# Мод для Майнкрафта
## Описание
Мод, добавляющий в Майнкрафт новый тип мира - МИР-Н. В мире МИР-Н полностью изменена генерация ландшафта. МИР-Н состоит из гигантских вертикальных, изрезанных пещерами островов.
### Функционал
- Увеличена высота верхнего мира (раньше: от -64 до 320, теперь: от -256 до 256)
- **Переработанный ландшафт** и новое распределение биомов, сохраняющие функционал основной игры (все биомы, структуры, блоки и ресурсы из обычной игры могут натурально сгенерироваться в мире)
- Многоуровневая генерация растительности всех биомов (раньше растения могли появляться процедурным путем только на поверхности)
- Палки теперь работают как зубочистки
- Локализован на русском и английском языках

## Требования
- Майнкрафт Java Edition версии 1.20.1
- [Загрузчик модов Forge](https://files.minecraftforge.net/net/minecraftforge/forge/index_1.20.1.html "Forge") для версии 1.20.1

## Как в это играть?
1. Убедитесь, что все [требования](#Требования) выполнены;
2. Скачать из этого репозитория архив мода последней версии;
3. Установить мод ([как устанавливать моды](https://apexminecrafthosting.com/how-to-install-mods-on-forge/));
4. Перейти в меню "Создать новый мир". Во вкладке "Мир" пролистать опцию "Тип мира" до "МИР-Н", выставить остальные настройки по своему желанию и нажать "Создать новый мир".  
4.1 Если появляется предупреждение о том, что мир использует экспериментальные настройки - нажать "Да";  
![Создание МИРА-Н](readme_assets/create_new_world.png)
![Предупреждение об экспериментальных настройках мира](readme_assets/experimental_world.png)
5. Играйте, как в обычный Майнкрафт и исследуйте безумную новую генерацию.

# Техническая часть
## Подготовка
- Gradle - система сборки, идет в комплекте с Forge.
- [Parchment Mappings](https://parchmentmc.org) - маппинги для функций и полей классов. Исходный код игры подвержен обфускации. ParchmentMC помогает привязать к запутанным именам более понятные и читаемые.
- [Forge Mixins](https://github.com/SpongePowered/Mixin/wiki/Mixins-on-Minecraft-Forge) - миксины. Миксины позволяют вклиниться в методы, описанные в исходном коде игры. 
- [Access Transformers](https://docs.minecraftforge.net/en/1.20.1/advanced/accesstransformers/) - трансформаторы доступа. Позволяют изменять видимость и некоторые другие параметры полей исходного кода игры.
- [HotswapAgent](https://github.com/HotswapProjects/HotswapAgent) - модификация для JDK, которая позволяет производить хотсвап (горячую замену) во время выполнения программы. Нужен для экономии времени при разработке (не перезапускать игру каждый раз). Позволяет менять все, кроме супер-классов. Так же не работает на миксины.
- [JetBrainsRuntime](https://github.com/JetBrains/JetBrainsRuntime/releases) - модифицированный вариант JRE, со встроенной поддержкой функционала HotswapAgent'а.
## Введение в генерацию мира
Разобраться в том, как работает генерация мира Майнкрафт мне оказалось довольно нелегко по нескольким причинам:
- Отсутсвие хороших гайдов и подробных объяснений в открытом доступе. Из наиболее полезного могу лишь порекомендовать два видеоматериала от разработчика, который непосредственно занимался созданием текущей системы генерации в игре: [[1]](src/generated/resources/data) [[2]](https://www.youtube.com/watch?v=ob3VwY4JyzE). Но даже там изложены лишь основы, не говоря уже о том, что все примеры представлены довольно абстрактно (в псевдо-коде), без объяснения реализаций;
- Переписывание игры с каждой новой версией. Каждый год разработчики выпускают новую версию, и как оказлось, даже минорные релизы (например переход от 1.20.5 к 1.20.6) могут существенно изменить архитектуру, делая всю существующую документацию к старым версиям неактуальной. Особенно сильный удар пришел в 2021 году с выходом версии 1.18 - в ней принципы генерации миров и способы описания этих принципов изменились до неузнаваемости;
- Не самый простой к прочтению и пониманию код игры;
- Математика... Еще и в json формате...
Для меня единственным способом разобраться, как что работает - стало бесконечное чтение исходного кода игры (который еще и )

Как оказалось, львиная доля описаний правил генерации мира передается игре путем дата-паков (наборы .json файлов). Все файлы, описывающие правила и алгоритмы генерации мира находятся в [src/generated/resources/data](src/generated/resources/data). Папки [fogy](src/generated/resources/data/fogy) и [minecraft](src/generated/resources/data/minecraft) представляют собой именные пространства (namepsace).

Вся 

## Создание нового типа мира


